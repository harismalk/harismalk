{{- if .DocumentationExamples}}{{- range $key := .DocumentationExamples}}
resource "aci_{{$.ResourceName}}" "full_example_{{getResourceName $key $.Definitions}}" { 
  {{- if $.HasParent}}
  parent_dn = {{createParentDnValue $key "example" $.Definitions}}
  {{- end}}
  {{- range $.Properties}}{{- if ne .NamedPropertyClass ""}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = aci_{{getResourceName .NamedPropertyClass $.Definitions}}.example.name
    {{- else if eq .SnakeCaseName "t_dn" }}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = {{lookupTestValue .PkgName .SnakeCaseName $.TestVars $.Definitions}}
    {{- else}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = "{{lookupTestValue .PkgName .SnakeCaseName $.TestVars $.Definitions}}"
  {{- end}}{{- end}}
  {{- range $key, $value := $.Children}}
  {{- template "childResourcesAndProperties" . }}
  {{- end}}
}
{{ end}}
{{- else}}
resource "aci_{{$.ResourceName}}" "full_example" {
  {{- range $.Properties}}{{- if ne .NamedPropertyClass ""}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = aci_{{getResourceName .NamedPropertyClass $.Definitions}}.example.name
    {{- else if eq .SnakeCaseName "t_dn" }}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = {{lookupTestValue .PkgName .SnakeCaseName $.TestVars $.Definitions}}
    {{- else}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = "{{lookupTestValue .PkgName .SnakeCaseName $.TestVars $.Definitions}}"
  {{- end}}{{- end}}
  {{- range $key, $value := $.Children}}
  {{- template "childResourcesAndProperties" . }}
  {{- end}}
}
{{ end}}

{{/* A sub template for including nested children in the examples. */}}
{{- define "childResourcesAndProperties" -}}
{{- $ChildResourceName := .ResourceName }}
  {{$ChildResourceName}} = [
    { {{- range .Properties}}{{- if ne .NamedPropertyClass ""}}
      {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = aci_{{getResourceName .NamedPropertyClass $.Definitions}}.example.name
        {{- else}}
      {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}} = "{{lookupChildTestValue .PkgName $ChildResourceName .SnakeCaseName $.TestVars 0 $.Definitions}}"{{- end}}{{ end}}
      {{- range $key, $value := $.Children}}
  {{- template "childResourcesAndProperties" . }}
  {{- end}}
    }
  ]
{{- end}}